<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>迭代器模式</title>
</head>
<body>
    <script>
        // 提供一种方法，将对象当中的内部，给显示出来，并且不暴露内部是什么样子的。
        // 特点：
        // 问一个聚合对象的内容而不暴露这个对象的内部
        // 遍历不同的结构提供统一的一个接口，从而支持同样的算法在不同的集合结构上进行操作。
        // arr = [{},{},{}] arr = 
        // 简单数据结构
        // var arr = [1,2,3,4,5,6] 
        // for(let i = 0; i < arr.length; i++){
        //     console.log(i)
        // }
        // 本质上还说访问每一项。
        // 
        var agg = (function(){
            var data = [1,2,3,4,5]
            var length = data.length;
            var index = 0;
            // hasNext(true/false) Next(返回下一项的值)
            return {
                next: function(){
                    var element;
                    if(!this.hasNext()){
                        return null
                    }
                    element = data[index];
                    index ++;
                    return element;
                },
                hasNext: function(){
                    // index length 比较大小就可以了
                    return index < length
                },
                current: function(){
                    return data[index];
                }
            }
        })()
        
        while(agg.hasNext()){
            console.log(agg.next())
        }
        console.log(agg.current());


    </script>
</body>
</html>